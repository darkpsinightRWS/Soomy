"use strict";(self.webpackChunk_soomy_soomy_electronic_auctions_web_site=self.webpackChunk_soomy_soomy_electronic_auctions_web_site||[]).push([[474],{33474:function(e,a,i){i.r(a);var l=i(70885),n=i(72791),s=i(59434),o=i(16871),t=(i(35683),i(82056)),c=i(75985),d=(i(5462),i(57496)),r=i(39),m=i(80184);a.default=function(e){var a,i,u,h,p,x,v,j,b,f,N,g,y,k,C,S=(0,s.I0)(),_=(0,o.s0)(),O=(0,s.v9)((function(e){return e.user})),w=(0,n.useState)(!1),P=(0,l.Z)(w,2),T=P[0],Z=P[1],z=(0,n.useState)(!0),A=(0,l.Z)(z,2),V=A[0],I=A[1],L=(0,n.useState)(!0),q=(0,l.Z)(L,2),B=q[0],M=q[1],E=O.userInfo,K=O.deconnectionLoading,R=O.connexionLoading,D=(O.showModal,(0,n.useState)(null===E||void 0===E?void 0:E.firstName)),F=(0,l.Z)(D,2),G=F[0],U=F[1],W=(0,n.useState)(null===E||void 0===E?void 0:E.lastName),H=(0,l.Z)(W,2),J=H[0],Q=H[1],X=(0,n.useState)(null===E||void 0===E?void 0:E.phone),Y=(0,l.Z)(X,2),$=Y[0],ee=Y[1],ae=(0,n.useState)(null===E||void 0===E?void 0:E.email),ie=(0,l.Z)(ae,2),le=ie[0],ne=ie[1],se=(0,n.useState)(null===E||void 0===E?void 0:E.Adresse),oe=(0,l.Z)(se,2),te=oe[0],ce=oe[1],de=(0,n.useState)(""),re=(0,l.Z)(de,2),me=re[0],ue=re[1],he=(0,n.useState)(""),pe=(0,l.Z)(he,2),xe=pe[0],ve=pe[1],je=(0,n.useState)(""),be=(0,l.Z)(je,2),fe=be[0],Ne=be[1],ge=(0,n.useState)("carte bancaire"),ye=(0,l.Z)(ge,2),ke=ye[0],Ce=ye[1],Se=(0,n.useState)("en attente de paiement"),_e=(0,l.Z)(Se,2),Oe=_e[0],we=_e[1],Pe=(0,o.UO)().id,Te=((0,s.v9)((function(e){return e.room})),(0,s.v9)((function(e){return e.order})).singleOrder);(0,n.useEffect)((function(){S((0,r.C)({room:Pe,user:null===E||void 0===E?void 0:E._id}))}),[S,Pe]),(0,n.useEffect)((function(){S((0,d.PR)())}),[S]);(0,s.v9)((function(e){return e.participation})).userParticipationList;return(0,m.jsx)("div",{className:"".concat(K||R?"d-flex justify-content-center align-items-center":"moving-main"),style:{height:"".concat(K||R?"100vh":null)},children:K||R?(0,m.jsx)("div",{className:"spinner-border",role:"status",children:(0,m.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"fluid-container",children:[(0,m.jsx)(c.Ix,{position:"top-center",autoClose:1e4,hideProgressBar:!1,newestOnTop:!1,toastStyle:{backgroundColor:"#303030",color:"white"},progressClassName:"Toastify__progress-bar--warning",closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,m.jsx)("div",{children:(0,m.jsxs)("main",{className:"pt-5",children:[(0,m.jsx)("h2",{className:"checkout-title mx-auto text-center mb-5",style:{fontSize:"38px"},children:" Validation de commande"}),(0,m.jsxs)("form",{className:"g-3 needs-validation container d-flex p-2 mb-2 mx-auto justify-content-between main-checkout",novalidate:!0,onSubmit:function(e){return function(e){e.preventDefault(),S((0,r.Cs)({id:null===Te||void 0===Te?void 0:Te._id,data:{date:new Date,nom:G,Adresse:te,email:le,phone:$,zip:xe,ville:me,method_of_paiement:ke,status_payment:Oe,notes:fe}})).then((function(e){return _("/validation/".concat(null===Te||void 0===Te?void 0:Te._id))}))}(e)},children:[(0,m.jsxs)("div",{className:"checkout-form edge-shadow p-3",children:[(0,m.jsx)("h3",{className:"text-left mt-0 mb-4",children:"Informations Personelles"}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("label",{for:"validationCustom01",className:"form-label",children:"Pr\xe9nom *"}),(0,m.jsx)("input",{onChange:function(e){U(e.target.value)},value:G,type:"text",className:"form-control",id:"validationCustom01",required:!0}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Veuillez fournir un code postal valide."})]}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("label",{for:"validationCustom02",className:"form-label",children:"Nom *"}),(0,m.jsx)("input",{onChange:function(e){Q(e.target.value)},value:J,type:"text",className:"form-control",id:"validationCustom02",required:!0}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Veuillez fournir un code postal valide."})]}),(0,m.jsxs)("div",{className:"d-flex w-100",children:[(0,m.jsxs)("div",{className:"mt-2 me-1 w-100",children:[(0,m.jsx)("label",{for:"validationCustom01",className:"form-label",children:"Email *"}),(0,m.jsx)("input",{onChange:function(e){ne(e.target.value)},value:le,type:"email",className:"form-control",id:"validationCustom03",required:!0}),(0,m.jsx)("div",{className:"valid-feedback",children:"Cela semble bon!"})]}),(0,m.jsxs)("div",{className:"mt-2 ms-1 w-100",children:[(0,m.jsx)("label",{for:"validationCustom03",className:"form-label",children:"T\xe9l\xe9phone *"}),(0,m.jsx)("input",{onChange:function(e){ee(e.target.value)},value:$,type:"text",className:"form-control",id:"validationCustom04",required:!0}),(0,m.jsx)("div",{className:"valid-feedback",children:"Cela semble bon!"})]})]}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("label",{for:"validationCustom05",className:"form-label",children:"Adresse"}),(0,m.jsx)("input",{onChange:function(e){ce(e.target.value)},value:te,type:"text",className:"form-control",id:"validationCustom05"}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Veuillez fournir une rue valide."})]}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("label",{for:"validationCustom06",className:"form-label",children:"Ville *"}),(0,m.jsxs)("select",{onChange:function(e){return ue(e.target.value)},className:"form-select",id:"validationCustom06",required:!0,children:[(0,m.jsx)("option",{selected:!0,disabled:!0,value:"",children:"Choisir..."}),(0,m.jsx)("option",{children:"Tunis"}),(0,m.jsx)("option",{children:"Bizert"}),(0,m.jsx)("option",{children:"Ariana"}),(0,m.jsx)("option",{children:"B\xe8ja"}),(0,m.jsx)("option",{children:"Ben Arous"}),(0,m.jsx)("option",{children:"Gafsa"}),(0,m.jsx)("option",{children:"Kairouane"}),(0,m.jsx)("option",{children:"Gab\xe8s"}),(0,m.jsx)("option",{children:"Mahdia"}),(0,m.jsx)("option",{children:"Monastir"}),(0,m.jsx)("option",{children:"Sousse"}),(0,m.jsx)("option",{children:"Kasserine"}),(0,m.jsx)("option",{children:"Nabeul"}),(0,m.jsx)("option",{children:"Tatouine"}),(0,m.jsx)("option",{children:"Zaghouane"}),(0,m.jsx)("option",{children:"Tozeur"}),(0,m.jsx)("option",{children:"Siliana"}),(0,m.jsx)("option",{children:"Jendouba"}),(0,m.jsx)("option",{children:"Sidi Bouzid"}),(0,m.jsx)("option",{children:"Kef"}),(0,m.jsx)("option",{children:"Kebili"}),(0,m.jsx)("option",{children:"Manouba"}),(0,m.jsx)("option",{children:"Mednine"})]}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Veuillez s\xe9lectionner un \xe9tat valide."})]}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("label",{for:"validationCustom07",className:"form-label",children:"Code postal"}),(0,m.jsx)("input",{onChange:function(e){return ve(e.target.value)},type:"text",className:"form-control",id:"validationCustom07"})]}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"invalidCheck",required:!0}),(0,m.jsx)("label",{className:"form-check-label",for:"invalidCheck",children:"Accepter les termes et conditions"}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Vous devez accepter avant de soumettre le formulaire."})]})}),(0,m.jsxs)("div",{className:"mt-4",children:[(0,m.jsx)("label",{for:"validationCustom08",className:"form-label",children:"information suppl\xe9mentaire (Facultative)"}),(0,m.jsx)("textarea",{type:"text",className:"form-control mt-1",id:"validationCustom08",placeholder:"Commentaires concernant votre commande, ex. : consignes de livraison.",onChange:function(e){return Ne(e.target.value)}})]})]}),(0,m.jsxs)("div",{className:"col-5 d-flex flex-column align-items-center justify-content-center checkout-details px-sm-2 p-lg-4 px-md-3 edge-shadow",children:[(0,m.jsx)("h3",{className:"text-center mt-3",children:"Votre Commande"}),(0,m.jsx)("img",{className:"checkout-img mb-3 edge-shadow",src:null===Te||void 0===Te||null===(a=Te.room_id)||void 0===a||null===(i=a.product)||void 0===i||null===(u=i.image)||void 0===u?void 0:u.imageURL}),(0,m.jsx)("table",{className:"table w-100",children:(0,m.jsxs)("tbody",{className:"details-checkout-body",children:[(0,m.jsxs)("tr",{className:"table-light",children:[(0,m.jsx)("td",{children:"Produit"}),(0,m.jsx)("td",{className:"text-end",children:null===Te||void 0===Te||null===(h=Te.room_id)||void 0===h||null===(p=h.product)||void 0===p?void 0:p.title})]}),(0,m.jsxs)("tr",{className:"table-light",children:[(0,m.jsx)("td",{children:"Garantie"}),(0,m.jsxs)("td",{className:"text-end",children:[null===Te||void 0===Te||null===(x=Te.room_id)||void 0===x||null===(v=x.product)||void 0===v?void 0:v.garantie," Mois"]})]}),(0,m.jsxs)("tr",{className:"table-light",children:[(0,m.jsx)("td",{children:"Partenaire"}),(0,m.jsxs)("td",{className:"text-end p-1",children:[" ",(0,m.jsx)("img",{className:"card-img-partner m-0",src:null===Te||void 0===Te||null===(j=Te.room_id)||void 0===j||null===(b=j.product)||void 0===b||null===(f=b.partner)||void 0===f||null===(N=f.image)||void 0===N?void 0:N.imageURL})]})]}),(0,m.jsxs)("tr",{className:"table-light",children:[(0,m.jsx)("td",{children:"Livraison"}),(0,m.jsx)("td",{className:"text-end",children:"---"})]})]})}),(0,m.jsx)("table",{className:"table total-table w-100",children:(0,m.jsxs)("tbody",{className:"total-body",children:[(0,m.jsxs)("tr",{className:"table-light total-tr mt-5",children:[(0,m.jsx)("td",{children:"Sous-total"}),(0,m.jsxs)("td",{className:"text-end",children:["soomy"===(null===Te||void 0===Te?void 0:Te.typeWinner)?null===Te||void 0===Te||null===(g=Te.room_id)||void 0===g?void 0:g.prixPromo:null===Te||void 0===Te||null===(y=Te.room_id)||void 0===y?void 0:y.directPrice," dt"]})]}),(0,m.jsxs)("tr",{className:"table-light total-tr",children:[(0,m.jsx)("td",{children:"Total"}),(0,m.jsxs)("td",{className:"text-end",children:["soomy"===(null===Te||void 0===Te?void 0:Te.typeWinner)?null===Te||void 0===Te||null===(k=Te.room_id)||void 0===k?void 0:k.prixPromo:null===Te||void 0===Te||null===(C=Te.room_id)||void 0===C?void 0:C.directPrice," dt"]})]})]})}),(0,m.jsxs)("div",{className:"accordion accordion-checkout w-100 mb-2",id:"accordionPanelsStayOpenExample",children:[(0,m.jsxs)("div",{className:"accordion-item accordion-item-checkout",children:[(0,m.jsxs)("h4",{className:"accordion-header accordion-header-checkout",id:"panelsStayOpen-headingOne",children:[(0,m.jsx)("input",{checked:!T,type:"radio",name:"methodPaiment",onClick:function(e){Ce("carte bancaire"),we("en attente"),Z(!e.target.checked),I(!0),M(!0)},"data-bs-toggle":"collapse",id:"AccordionItem1","data-bs-target":"#panelsStayOpen-collapseOne","aria-expanded":"true","aria-controls":"panelsStayOpen-collapseOne"}),(0,m.jsx)("label",{className:"checkout-label",for:"AccordionItem1",children:"Carte Bancaire"})]}),(0,m.jsx)("div",{id:"panelsStayOpen-collapseOne",className:"accordion-collapse ".concat(T&&"collapse"),"aria-labelledby":"panelsStayOpen-headingOne",children:(0,m.jsx)("div",{className:"accordion-body accordion-body-checkout",children:(0,m.jsx)("p",{className:"mb-1",children:"Payer en ligne maintenant, par carte bancaire tunisienne en toute s\xe9curit\xe9."})})})]}),(0,m.jsxs)("div",{className:"accordion-item accordion-item-checkout",children:[(0,m.jsxs)("h4",{className:"accordion-header accordion-header-checkout",id:"panelsStayOpen-headingTwo",children:[(0,m.jsx)("input",{checked:!V,className:"collapsed",onClick:function(e){Ce("virement bancaire"),we("en attente de virement"),Z(!0),I(!e.target.checked),M(!0)},type:"radio",name:"methodPaiment",id:"AccordionItem2","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTwo"}),(0,m.jsx)("label",{className:"checkout-label",for:"AccordionItem2",children:"Virement Bancaire"})]}),(0,m.jsx)("div",{id:"panelsStayOpen-collapseTwo",className:"accordion-collapse ".concat(V&&"collapse"),"aria-labelledby":"panelsStayOpen-headingTwo",children:(0,m.jsx)("div",{className:"accordion-body accordion-body-checkout",children:(0,m.jsxs)("p",{children:[" ","Effectuez le paiement directement depuis votre compte bancaire. Veuillez utiliser l\u2019ID de votre commande comme r\xe9f\xe9rence du paiement. Votre commande ne sera pas exp\xe9di\xe9e tant que les fonds ne seront pas re\xe7us."]})})})]}),(0,m.jsxs)("div",{className:"accordion-item accordion-item-checkout",children:[(0,m.jsxs)("h4",{className:"accordion-header accordion-header-checkout",id:"panelsStayOpen-headingThree",children:[(0,m.jsx)("input",{checked:!B,className:"collapsed",onClick:function(e){Ce("en attente"),we("en attente de livraison"),Z(!0),I(!0),M(!e.target.checked)},id:"AccordionItem3",name:"methodPaiment",type:"radio","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseThree","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseThree"}),(0,m.jsx)("label",{className:"checkout-label",for:"AccordionItem3",children:"Paiement \xe0 la Livraison"})]}),(0,m.jsx)("div",{id:"panelsStayOpen-collapseThree",className:"accordion-collapse ".concat(B&&"collapse"),"aria-labelledby":"panelsStayOpen-headingThree",children:(0,m.jsx)("div",{className:"accordion-body accordion-body-checkout",children:(0,m.jsx)("p",{children:"R\xe9gler votre commande en esp\xe8ce, \xe0 la livraison."})})})]})]}),(0,m.jsx)("div",{className:"mt-2 button-box w-100",children:(0,m.jsx)("button",{className:"btn btn-outline-checkout w-100",type:"submit",children:"Valider"})})]})]})]})}),(0,m.jsx)(t.Z,{})]})," "]})})}}}]);
//# sourceMappingURL=474.f3737dd9.chunk.js.map