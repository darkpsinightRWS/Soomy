"use strict";(self.webpackChunk_soomy_soomy_electronic_auctions_web_site=self.webpackChunk_soomy_soomy_electronic_auctions_web_site||[]).push([[322],{27449:function(e,i,n){n.r(i),n.d(i,{default:function(){return q}});var l,o=n(70885),s=n(72791),t=n(82056),r=n(49335),d=n(24849),c=n(99463),a=n(33092),u=n(50723),v=n(1413),m=n(45987),x=n(95316),f=n(16871),p=n(59434),h=n(10226),j=n(39),g=n(80184),b=["room","user","parentCallback","counter","email"],N=function(e){e.room,e.user;var i,n,l,t=e.parentCallback,r=(e.counter,e.email,(0,m.Z)(e,b)),d=(0,p.I0)(),c=(0,f.s0)(),a=(0,p.v9)((function(e){return e.room})).auction,u=(0,p.v9)((function(e){return e.user})).userInfo,N=(0,s.useState)(!0),w=(0,o.Z)(N,2),k=w[0],y=w[1];return(0,g.jsx)(x.Z,(0,v.Z)((0,v.Z)({},r),{},{centered:!0,children:(0,g.jsx)("div",{className:"modal-dialog modal-dialog-centered m-0",role:"document",children:(0,g.jsx)("div",{className:"modal-content",children:(0,g.jsxs)("form",{children:[(0,g.jsx)(x.Z.Header,{children:(0,g.jsx)("div",{className:"circle-icon",children:(0,g.jsx)("i",{className:"fi fi-rr-bullseye"})})}),(0,g.jsx)(x.Z.Body,{className:"p-0 mb-2",children:(0,g.jsx)("div",{className:"form-card",children:(0,g.jsx)("div",{className:"row justify-content-center",children:(0,g.jsx)("div",{className:"col-9 text-center",children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h3",{className:"warning-connection mt-3",children:"Ne manquez pas cette chance !"}),(0,g.jsx)("p",{className:"warning-text",children:"Vous pouvez acheter directement ce produit sans attendre la fin."}),(0,g.jsx)("img",{className:"modal-img-winner",src:null===a||void 0===a||null===(i=a.product)||void 0===i||null===(n=i.image)||void 0===n?void 0:n.imageURL}),(0,g.jsxs)("div",{className:"col-lg-12 warning-text mt-5",children:["Souhaitez-vous l'achetez au prix r\xe9duit de"," ",Math.round(.7*(null===a||void 0===a||null===(l=a.product)||void 0===l?void 0:l.prix))," DT?"]})]})})})})}),(0,g.jsxs)(x.Z.Footer,{className:"d-flex flex-row w-100",children:[(0,g.jsx)("button",{className:"btn btn-outline-checkout my-1 flex-1 ",style:{textDecoration:"none"},onClick:function(e){var i,n,l,o,s;e.preventDefault(),d((0,j.LV)({user_id:null===u||void 0===u?void 0:u._id,room_id:null===a||void 0===a?void 0:a._id,name:null===a||void 0===a||null===(i=a.product)||void 0===i?void 0:i.title,nom:null===u||void 0===u?void 0:u.lastName,prenom:null===u||void 0===u?void 0:u.firstName,date:new Date,email:null===u||void 0===u?void 0:u.email,image:null===a||void 0===a||null===(n=a.product)||void 0===n||null===(l=n.image)||void 0===l?void 0:l.imageURL,prix:null===a||void 0===a||null===(o=a.product)||void 0===o?void 0:o.prix,prixPromo:Math.round(.7*(null===a||void 0===a||null===(s=a.product)||void 0===s?void 0:s.prix)),typeWinner:"premium"})).then((function(e){var i;d((0,h.R$)({id:null===a||void 0===a?void 0:a._id,data:{directWinner:null===u||void 0===u?void 0:u._id,directPrice:Math.round(.7*(null===a||void 0===a||null===(i=a.product)||void 0===i?void 0:i.prix))}}))})).then((function(){return t(null===a||void 0===a?void 0:a._id,null===u||void 0===u?void 0:u._id)})).then((function(e){c("/checkout/".concat(null===a||void 0===a?void 0:a._id))}))},children:"Oui "}),(0,g.jsx)("button",{className:"btn btn-outline-cancel my-1 flex-1  ",onClick:function(i){i.preventDefault(),y(!1),e.hidCallback(k)},children:"Non "})]})]})})})}))},w=n(85246),k=n(69670),y=n(96400),_=n(80918),C=n(96766),Z=(n(65141),n(8977)),D=n(57496),S=n(75985),P=n(67957),R=n(5976),L=n(25309),T=n(47960),I=n(29321),E=n(43504),U=n(74569),H=n.n(U),A=n(29609),F=n(74387),M=n(56460),O=(n(88040),n(30197)),B=n(9806),W=n(11632),z=function(){return(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{children:"\u2b50 Ajout\xe9 aux favoris! "}),(0,g.jsxs)(E.rU,{style:{textDecoration:"none",color:"black",marginLeft:"10px"},to:"/profile/auctions",children:["Voir favoris"," "]})]})},V=function(){return(0,g.jsxs)("div",{style:{textAlign:"center"},children:[(0,g.jsx)("p",{children:"\u2b50 supprim\xe9 des favoris! "}),(0,g.jsxs)(E.rU,{style:{textDecoration:"none",color:"black",marginLeft:"10px"},to:"/profile/auctions",children:["Voir favoris"," "]})]})},G={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1400},items:4},tablet:{breakpoint:{max:1500,min:1100},items:3},mobile:{breakpoint:{max:1100,min:550},items:2},smallmobile:{breakpoint:{max:550,min:0},items:1}},q=function(e){var i,n,v,m,x,j,b,U,q,Y,$,J,K,Q,X,ee,ie,ne,le,oe,se,te,re,de,ce,ae,ue,ve,me,xe,fe,pe,he,je,ge,be,Ne,we,ke,ye,_e=(0,s.useState)(),Ce=(0,o.Z)(_e,2),Ze=Ce[0],De=Ce[1],Se=(0,s.useState)(!1),Pe=(0,o.Z)(Se,2),Re=Pe[0],Le=Pe[1],Te=(0,s.useState)(!1),Ie=(0,o.Z)(Te,2),Ee=Ie[0],Ue=Ie[1],He=(0,s.useState)(!1),Ae=(0,o.Z)(He,2),Fe=Ae[0],Me=Ae[1],Oe=(0,s.useState)(null),Be=(0,o.Z)(Oe,2),We=Be[0],ze=Be[1],Ve=(0,s.useState)(""),Ge=(0,o.Z)(Ve,2),qe=Ge[0],Ye=Ge[1],$e=(0,s.useState)(""),Je=(0,o.Z)($e,2),Ke=Je[0],Qe=Je[1],Xe=(0,s.useState)(!1),ei=(0,o.Z)(Xe,2),ii=ei[0],ni=ei[1],li=(0,s.useState)(!1),oi=(0,o.Z)(li,2),si=oi[0],ti=oi[1],ri=(0,s.useState)(!1),di=(0,o.Z)(ri,2),ci=di[0],ai=di[1],ui=(0,s.useState)([]),vi=(0,o.Z)(ui,2),mi=(vi[0],vi[1],(0,s.useState)(0)),xi=(0,o.Z)(mi,2),fi=xi[0],pi=xi[1],hi=(0,s.useState)(!1),ji=(0,o.Z)(hi,2),gi=ji[0],bi=ji[1],Ni=(0,s.useState)(0),wi=(0,o.Z)(Ni,2),ki=wi[0],yi=wi[1],_i=(0,s.useState)(!1),Ci=(0,o.Z)(_i,2),Zi=Ci[0],Di=Ci[1],Si=(0,s.useState)(!1),Pi=(0,o.Z)(Si,2),Ri=Pi[0],Li=Pi[1],Ti=(0,s.useState)(!1),Ii=(0,o.Z)(Ti,2),Ei=Ii[0],Ui=Ii[1],Hi=(0,s.useState)(),Ai=(0,o.Z)(Hi,2),Fi=Ai[0],Mi=(Ai[1],(0,s.useState)("")),Oi=(0,o.Z)(Mi,2),Bi=(Oi[0],Oi[1]),Wi=(0,s.useState)(600),zi=(0,o.Z)(Wi,2),Vi=zi[0],Gi=zi[1],qi=(0,s.useState)(!1),Yi=(0,o.Z)(qi,2),$i=Yi[0],Ji=Yi[1],Ki=(0,s.useState)(!1),Qi=(0,o.Z)(Ki,2),Xi=Qi[0],en=Qi[1],nn=(0,s.useState)(!1),ln=(0,o.Z)(nn,2),on=ln[0],sn=ln[1],tn=(0,s.useState)(!1),rn=(0,o.Z)(tn,2),dn=rn[0],cn=rn[1],an=(0,s.useState)(!1),un=(0,o.Z)(an,2),vn=un[0],mn=un[1],xn=(0,f.s0)(),fn=(0,p.v9)((function(e){return e.user})),pn=fn.userInfo,hn=fn.isAuth,jn=fn.montant,gn=fn.updateBookmarksLoading,bn=fn.updateBookmarksErrors,Nn=(0,p.v9)((function(e){return e.participation})),wn=Nn.participation,kn=Nn.freeCredit,yn=(0,p.v9)((function(e){return e.room})).auction,_n=(0,P.a)(new Date(yn?yn.startDate:null)),Cn=(0,o.Z)(_n,4),Zn=Cn[0],Dn=Cn[1],Sn=Cn[2],Pn=Cn[3],Rn=(0,p.I0)(),Ln=(0,s.useState)(0),Tn=(0,o.Z)(Ln,2),In=(Tn[0],Tn[1]),En=(0,s.useState)(window.innerWidth),Un=(0,o.Z)(En,2),Hn=Un[0],An=Un[1],Fn=(0,s.useState)(0),Mn=(0,o.Z)(Fn,2),On=Mn[0],Bn=Mn[1],Wn=(0,s.useRef)(null);(0,s.useEffect)((function(){var e;Bn(null===(e=Wn.current)||void 0===e?void 0:e.clientHeight)}));var zn=(0,s.useRef)(null),Vn=(0,s.useRef)(null),Gn=(0,f.UO)().id;(0,s.useEffect)((function(){yn&&Zn<=0&&Dn<=0&&Sn<=0&&Pn<=0&&"pending"===yn.status&&100===Math.floor(fi/(null===yn||void 0===yn?void 0:yn.capacity)*100)&&Rn((0,h.R$)({id:null===yn||void 0===yn?void 0:yn._id,data:{status:"enable"}})).then((function(){Rn((0,h.fv)(null===yn||void 0===yn?void 0:yn._id))}))}),[Zn,Dn,Sn,Pn]),(0,s.useEffect)((function(){yn&&H().get("/participations/getNumberOfParticipations/".concat(null===yn||void 0===yn?void 0:yn._id)).then((function(e){return pi(e.data)}))}),[yn]),(0,s.useEffect)((function(){var e,i;if(l=(0,A.ZP)(),yn&&"enable"===yn.status&&pn)return l.emit("join",{user:null===pn||void 0===pn?void 0:pn.username,room:yn,montant:null===pn||void 0===pn||null===(e=pn.credit)||void 0===e?void 0:e.montant,app_id:null===pn||void 0===pn?void 0:pn._id,photo:null===pn||void 0===pn||null===(i=pn.profile_img)||void 0===i?void 0:i.imageURL},(function(e){})),l.emit("reset"),function(){l.disconnect()}}),[yn]),(0,s.useEffect)((function(){pn&&yn&&(Me(!0),H().get("/participations/getUserAndRoomParticipation/".concat(null===pn||void 0===pn?void 0:pn._id,"/").concat(null===yn||void 0===yn?void 0:yn._id)).then((function(e){var i;Me(!1),ze(e.data),Rn((0,M.et)(null===(i=e.data)||void 0===i?void 0:i.freeCredit))})).catch((function(e){return Me(!1)})))}),[Rn,pn,yn,wn]),(0,s.useEffect)((function(){return pn&&yn&&(l.on("click",(function(e){yi(e.counter),Ye(e.user),Bi(e.userId),Qe(e.photo)})),l.on("userwelcome",(function(e){Rn((0,D.Y4)(e.montant)),yi(e.counter),Ye(e.user),Li(e.control),Qe(e.photo),Rn((0,M.et)(e.freeCredit))})),l.on("conflictingConnection",(function(e){e.roomID===yn._id&&Ji(e.control)})),l.on("leaveConnection",(function(e){e.roomID===yn._id&&en(e.control)})),l.on("updateRoom",(function(e){e.roomID===yn._id&&Rn((0,h.fv)(e.roomID))})),l.on("buyProduct",(function(e){e.winner===pn._id&&Ui(e.directBuyTrigger),Li(e.control)})),l.on("winner",(function(e){ti(!0),Di(e.flag),Rn((0,h.fv)(yn._id))})),l.on("lost",(function(e){ai(!0),Di(e.flag),Rn((0,h.fv)(yn._id))})),l.on("neutral",(function(e){Di(e.flag),Rn((0,h.fv)(yn._id))})),l.on("userjoin",(function(e){yi(e.counter),Ye(e.user),Qe(e.photo)})),l.on("timer",(function(e){Gi(e.countdown)})),l.on("updatecounter",(function(e){Rn((0,D.Y4)(e.montant))})),l.on("updateFreeCredit",(function(e){Rn((0,M.et)(e.freeCredit)),0===e.freeCredit&&bi(!0)}))),function(){l.off("click"),l.off("updateRoom"),l.off("userwelcome"),l.off("updatecounter"),l.off("updateFreeCredit"),l.off("userjoin"),l.off("winner"),l.off("lost"),l.off("neutral"),l.off("leaveConnection"),l.off("timer"),l.off("directPurchase"),l.off("conflictingConnection")}}),[yn,jn,pn]);var qn=(0,s.useCallback)((function(e,i){l.emit("validatePurchase",{roomID:e,userID:i})}),[]),Yn=(0,s.useCallback)((function(){yn&&l.emit("rejectPurchase",{roomID:yn._id,userID:null===pn||void 0===pn?void 0:pn._id}),Ui(!1)}),[]);(0,s.useLayoutEffect)((function(){var e,i;In(null===(e=Vn.current)||void 0===e?void 0:e.offsetWidth),Bn(null===(i=Vn.current)||void 0===i?void 0:i.offsetHeight)}),[Vn.current,Fi,Hn]);var $n=(0,s.useCallback)((function(e){Ji(e)}),[]);function Jn(e){var i=new Date(1e3*e),n=i.getUTCMinutes(),l=i.getSeconds();return n.toString().padStart(2,"0")+":"+l.toString().padStart(2,"0")}(0,s.useEffect)((function(){window.addEventListener("resize",(function(){return An(window.innerWidth)}))}),[]),(0,s.useEffect)((function(){Le(!0),Rn((0,h.fv)(Gn)).then((function(e){return Le(!1)})).catch((function(e){return Le(!1)}))}),[Gn]),(0,s.useEffect)((function(){var e,i;yn&&(Ue(!0),H().get("/rooms/getAuctionsByCategory/".concat(null===yn||void 0===yn||null===(e=yn.product)||void 0===e||null===(i=e.category)||void 0===i?void 0:i._id)).then((function(e){var i;Ue(!1);var n=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==(null===yn||void 0===yn?void 0:yn._id)}));De(n),Ue(!1)})))}),[yn]);return(0,s.useEffect)((function(){We&&!0===We.ban&&sn(!0)}),[We]),(0,s.useEffect)((function(){return function(){Rn((0,h.NE)()),Rn((0,M.et)(0))}}),[]),(0,g.jsxs)("div",{children:[(0,g.jsxs)("main",{className:"d-flex flex-column justify-content-center align-items-center ",children:[(0,g.jsx)("section",{className:"container-fluid product-premium-large d-flex justify-content-center align-items-center m-0 px-sm-0",children:Re?(0,g.jsx)(d.Z,{animation:"border",variant:"light",className:"mx-auto my-6"}):(0,g.jsx)("div",{className:"p-0 w-100",children:(0,g.jsxs)("div",{className:"w-100 d-flex flex-column flex-lg-row container-lg  p-lg-4 px-0",children:[(0,g.jsxs)("div",{className:"w-100 p-lg-5 position-relative carousel-wrapper",children:[null!==yn&&void 0!==yn&&null!==(i=yn.product)&&void 0!==i&&i.brand?(0,g.jsx)("img",{src:null===yn||void 0===yn||null===(n=yn.product)||void 0===n||null===(v=n.brand)||void 0===v||null===(m=v.logo)||void 0===m?void 0:m.imageURL,className:"brand-product px-1",alt:"..."}):null,(0,g.jsxs)(O.lr,{className:"slide position-unset",showStatus:!1,children:[(0,g.jsx)("div",{children:(0,g.jsx)("img",{src:null===yn||void 0===yn||null===(x=yn.product)||void 0===x||null===(j=x.image)||void 0===j?void 0:j.imageURL,className:"d-block w-100 px-1",alt:"..."})}),(0,g.jsx)("div",{children:(0,g.jsx)("img",{src:null===yn||void 0===yn||null===(b=yn.product)||void 0===b||null===(U=b.image1)||void 0===U?void 0:U.imageURL,className:"d-block w-100 px-1",alt:"..."})}),(0,g.jsx)("div",{children:(0,g.jsx)("img",{src:null===yn||void 0===yn||null===(q=yn.product)||void 0===q||null===(Y=q.image2)||void 0===Y?void 0:Y.imageURL,className:"d-block w-100 px-1",alt:"..."})})]})]}),(0,g.jsxs)("div",{className:"w-100 d-flex flex-column justify-content-center product-card product-premium product-premium-large py-2 px-lg-5 mx-auto my-2 px-1",children:[(0,g.jsx)("div",{children:(0,g.jsx)("h1",{className:"mt-lg-5 px-1",children:null===yn||void 0===yn||null===($=yn.product)||void 0===$?void 0:$.title})}),(0,g.jsx)("div",{children:(0,g.jsx)("h2",{children:null===yn||void 0===yn||null===(J=yn.product)||void 0===J?void 0:J.subTitle})}),"enable"!==(null===yn||void 0===yn?void 0:yn.status)?(0,g.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",children:[(0,g.jsx)("p",{className:"mx-1 ".concat(vn?"description-product-clicked":"description-product-premium"),ref:Wn,children:null===yn||void 0===yn||null===(K=yn.product)||void 0===K?void 0:K.description}),On>25?vn?(0,g.jsx)(B.G,{className:"float-animation icon-premium-hover",icon:W.mTx,onClick:function(){mn(!vn)},style:{color:"rgb(255 255 255 / 50%)",cursor:"pointer",fontSize:"20px",maxHeight:"30px",padding:"5px"}}):(0,g.jsx)(B.G,{className:"float-animation icon-premium-hover",icon:W.ptq,onClick:function(){mn(!vn)},style:{color:"rgb(255 255 255 / 50%)",cursor:"pointer",fontSize:"20px",maxHeight:"30px",padding:"5px"}}):null]}):null,(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-2 py-1 w-100",children:[pn?null!==pn&&void 0!==pn&&null!==(Q=pn.bookmarks)&&void 0!==Q&&Q.some((function(e){return(null===e||void 0===e?void 0:e._id)===(null===yn||void 0===yn?void 0:yn._id)}))?(0,g.jsxs)("div",{onClick:function(){return e=null===yn||void 0===yn?void 0:yn._id,void(pn&&Rn((0,D.TG)({id:pn._id,data:{bookmark:e}})).then((function(){gn&&bn?bn&&S.Am.erreur("erreur!",{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(0,S.Am)(V,{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})));var e},children:[" ",(0,g.jsx)("i",{className:"fi fi-rr-bookmark bookmark hover-icon",style:{color:"#f9124e"}})," "]}):(0,g.jsxs)("div",{onClick:function(){return e=yn._id,void(pn&&Rn((0,D.bl)({id:pn._id,data:{bookmark:e}})).then((function(){gn&&bn?bn&&S.Am.error("erreur!",{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(0,S.Am)(z,{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})));var e},children:[" ",(0,g.jsx)("i",{className:"fi fi-rr-bookmark bookmark hover-icon"})," "]}):(0,g.jsxs)("div",{onClick:function(){return xn("/")},children:[" ",(0,g.jsx)("i",{className:"fi fi-rr-bookmark bookmark hover-icon"})," "]}),"enable"===(null===yn||void 0===yn?void 0:yn.status)?(0,g.jsxs)("button",{style:{backgroundColor:"rgb(2, 202, 2)"},children:[(0,g.jsx)("i",{className:"icon-play mx-1"})," Ench\xe8re en cours"]}):"pending"===(null===yn||void 0===yn?void 0:yn.status)?(0,g.jsxs)("button",{children:[(0,g.jsx)("i",{className:"icon-time mx-1"}),"Ench\xe8re en attente"]}):"finished"===(null===yn||void 0===yn?void 0:yn.status)?(0,g.jsxs)("button",{style:{backgroundColor:"white",color:"black"},children:[(0,g.jsx)("i",{className:"icon-flag-checkered mx-1"}),"Ench\xe8re termin\xe9e"]}):(0,g.jsx)("button",{children:"Ench\xe8re d\xe9activ\xe9e"})]}),(0,g.jsxs)("div",{className:"product-details-card product-details-card-premium my-3",children:["enable"===(null===yn||void 0===yn?void 0:yn.status)?(0,g.jsxs)("div",{className:"timer-wrapper",children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100",children:[(0,g.jsxs)("div",{className:"user-timer",children:[(0,g.jsxs)("span",{children:[" ",Ke?(0,g.jsx)("img",{className:"mx-2 last-mise-photo",src:Ke}):null]}),(0,g.jsx)("p",{children:qe})]}),(0,g.jsxs)("div",{className:"user-timer",children:[(0,g.jsx)("span",{children:(0,g.jsx)("i",{className:"fi fi-rr-coins mx-2"})}),(0,g.jsxs)("p",{children:[ki," DT"]})]})]}),(0,g.jsxs)("div",{className:"btn w-100 counter-btn",ref:zn,children:[(0,g.jsxs)("span",{className:"timer-unit",children:[" ",Jn(Vi).substring(0,2)]}),(0,g.jsx)("span",{className:"timer-unit",children:":"}),(0,g.jsx)("span",{className:"timer-unit",children:Jn(Vi).substring(3,5)})]})]}):null,"enable"===(null===yn||void 0===yn?void 0:yn.status)&&We&&(null===yn||void 0===yn||null===(X=yn.directWinner)||void 0===X?void 0:X._id)!==(null===pn||void 0===pn?void 0:pn._id)?(0,g.jsxs)("div",{children:[" ",jn-yn.mise<0?(0,g.jsx)("button",{className:"btn mise-btn w-100 edge-shadow-button",onClick:function(){Rn((0,D.bF)())},children:"Recharger Votre Compte"}):(0,g.jsxs)("div",{className:"btn mise-btn w-100 mb-lg-2 p-0  d-flex justify-content-between align-items-center edge-shadow-button",children:[(0,g.jsxs)("button",{onClick:function(){pn&&(ni(!0),0===ki&&l.emit("firstClick",{room_id:yn._id,lastUserId:null===pn||void 0===pn?void 0:pn._id,lastUserName:null===pn||void 0===pn?void 0:pn.username}),jn>0&&l.emit("clickButton",{timeOfClick:new Date,userID:null===pn||void 0===pn?void 0:pn._id,roomID:null===yn||void 0===yn?void 0:yn._id,montant:jn}),setTimeout((function(){ni(!1),zn.current.scrollIntoView({block:"center"})}),500))},disabled:jn-(null===yn||void 0===yn?void 0:yn.mise)<0||ii,children:[" ",ii&&(0,g.jsx)("div",{className:"spinner-border text-light mise-spinner",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden",children:"Loading..."})})," ",0===ki&&jn-yn.mise>=0?"Premi\xe8re Mise +".concat(yn.mise," DT"):"Miser +".concat(yn.mise," DT")]}),kn?(0,g.jsxs)("button",{className:"credit-mise color-green",onClick:function(){return Rn((0,D.bF)())},children:[" ",(0,g.jsxs)("var",{children:[kn.toFixed(1),(0,g.jsxs)("sup",{children:[" ",(0,g.jsx)("i",{className:"fi fi-rr-gift"})]})]})]}):(0,g.jsxs)("button",{className:"credit-mise bg-pink",onClick:function(){return Rn((0,D.bF)())},children:[" ",(0,g.jsxs)("var",{children:[null===jn?null===pn||void 0===pn||null===(ee=pn.credit)||void 0===ee||null===(ie=ee.montant)||void 0===ie?void 0:ie.toFixed(1):null===jn||void 0===jn?void 0:jn.toFixed(1),(0,g.jsxs)("sup",{children:[" ",(0,g.jsx)("i",{className:"fi fi-rr-coins"})]})]})]})]})]}):null,Ri&&We&&!(null!==yn&&void 0!==yn&&yn.directWinner)&&(0,g.jsx)("button",{className:"btn btn-gold w-100 mt-3",onClick:function(){pn&&l.emit("buyProduct",{triggerBuy:!0,roomID:null===yn||void 0===yn?void 0:yn._id,userID:null===pn||void 0===pn?void 0:pn._id})},children:"Acheter directement"}),(0,g.jsxs)("div",{className:"product-table w-100",children:[(0,g.jsxs)("div",{className:"row m-0",children:[(0,g.jsxs)("div",{className:"d-flex col-6",children:[(0,g.jsx)("i",{className:"fi fi-rr-tags"}),(0,g.jsx)("p",{children:"Prix Original"})]}),(0,g.jsxs)("div",{className:"col-6 text-end d-flex align-items-center justify-content-end prix-premium",children:[null===yn||void 0===yn||null===(ne=yn.product)||void 0===ne?void 0:ne.prix," DT"]})]}),null!==yn&&void 0!==yn&&null!==(le=yn.product)&&void 0!==le&&le.partner?(0,g.jsxs)("div",{className:"row m-0",children:[(0,g.jsxs)("div",{className:"d-flex col-6",children:[(0,g.jsx)("i",{className:"fi fi-rr-users"}),(0,g.jsx)("p",{children:"Partenaire"})]}),(0,g.jsx)("div",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:(0,g.jsx)("img",{src:null===yn||void 0===yn||null===(oe=yn.product)||void 0===oe||null===(se=oe.partner)||void 0===se||null===(te=se.image)||void 0===te?void 0:te.imageURL})})]}):null,(0,g.jsxs)("div",{className:"row m-0",children:[(0,g.jsxs)("div",{className:"d-flex col-6",children:[(0,g.jsx)("i",{className:"fi fi-rr-calendar"}),(0,g.jsx)("p",{children:"Date d\xe9but"})]}),(0,g.jsx)("p",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:(0,Z.Z)(new Date(yn?yn.startDate:null),"dd/MM/yyyy  \xe0  HH:mm")})]}),(0,g.jsxs)("div",{className:"row m-0",children:[(0,g.jsxs)("div",{className:"d-flex col-6",children:[(0,g.jsx)("i",{className:"fi fi-rr-users-alt"}),(0,g.jsx)("p",{children:"Participation"})]}),(0,g.jsx)("div",{className:"col-6 position-relative",children:(0,g.jsx)("div",{className:"circle-wrap",children:(0,g.jsxs)("div",{className:"circle",children:[(0,g.jsx)("div",{className:"mask full",children:(0,g.jsx)("div",{className:"fill"})}),(0,g.jsx)("div",{className:"mask half",children:(0,g.jsx)("div",{className:"fill"})}),(0,g.jsxs)("div",{className:"inside-circle",children:[" ",Math.floor(fi/(null===yn||void 0===yn?void 0:yn.capacity)*100),"%"," "]})]})})})]}),null!==yn&&void 0!==yn&&null!==(re=yn.product)&&void 0!==re&&re.garantie?(0,g.jsxs)("div",{className:"row m-0 col-6",children:[(0,g.jsxs)("div",{className:"d-flex col-6",children:[(0,g.jsx)("div",{className:"sprite sprite-icon-badge-garantie-red"}),(0,g.jsx)("p",{children:"Garantie"})]}),(0,g.jsxs)("p",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:[null===yn||void 0===yn||null===(de=yn.product)||void 0===de?void 0:de.garantie," Mois"]})]}):null,(0,g.jsxs)("div",{className:"row m-0 col-6",children:[(0,g.jsxs)("div",{className:"d-flex col-6",children:[(0,g.jsx)("i",{className:"fi fi-rr-gift"}),(0,g.jsx)("p",{children:"Bonus"})]}),(0,g.jsx)("p",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:"50 DT"})]}),(0,g.jsxs)("div",{className:"row m-0 border-bottom-0",children:[(0,g.jsxs)("div",{className:"d-flex col-6",children:[(0,g.jsx)("div",{className:"sprite sprite-icon-badge-garantie-reduced-red"}),(0,g.jsx)("p",{children:"Type"})]}),(0,g.jsx)("div",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:"gold"===(null===yn||void 0===yn?void 0:yn.niveau)?(0,g.jsx)("img",{src:R}):"silver"===(null===yn||void 0===yn?void 0:yn.niveau)?(0,g.jsx)("img",{src:L}):(0,g.jsx)("img",{src:T})})]}),Math.floor(fi/(null===yn||void 0===yn?void 0:yn.capacity)*100)>=100&&"pending"===(null===yn||void 0===yn?void 0:yn.status)?(0,g.jsx)("div",{className:"remplie-section",children:(0,g.jsx)("div",{className:"remplie d-flex flex-column justify-content-center align-items-center",children:(0,g.jsxs)("p",{className:"premium-remplie",children:["Ench\xe8re remplie \xe0 ",(0,g.jsx)("span",{children:"100%"})]})})}):null,"pending"===(null===yn||void 0===yn?void 0:yn.status)?(0,g.jsx)("div",{className:"row mx-0 border-bottom-0",children:(0,g.jsx)("div",{className:"col-md-12 mobile-fixed-btn d-flex justify-content-center align-items-center",children:!Fe&&We&&Zn>=0&&Dn>=0&&Sn>=0&&Pn>=0?(0,g.jsx)("span",{className:"btn btn-product bg-pink countdown-btn",children:(0,g.jsx)(I.Z,{days:Zn,hours:Dn,minutes:Sn,seconds:Pn})}):Fe?(0,g.jsx)("div",{className:"spinner-border mx-auto ",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):null})}):null,"finished"===(null===yn||void 0===yn?void 0:yn.status)?(0,g.jsx)("div",{children:(null===yn||void 0===yn||null===(ce=yn.winner)||void 0===ce?void 0:ce._id)===(null===pn||void 0===pn?void 0:pn._id)?(0,g.jsx)("div",{className:"winner-section",children:(0,g.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,g.jsx)("img",{src:null===yn||void 0===yn||null===(ae=yn.winner)||void 0===ae||null===(ue=ae.profile_img)||void 0===ue?void 0:ue.imageURL}),(0,g.jsxs)("p",{children:["Vous avez remport\xe9 cette ench\xe8re au prix de"," ",(0,g.jsxs)("span",{className:"winner-price",children:[null===yn||void 0===yn||null===(ve=yn.prixPromo)||void 0===ve?void 0:ve.toFixed(1)," DT"]})]})]})}):(null===yn||void 0===yn?void 0:yn.winner)&&(0,g.jsx)("div",{className:"winner-section",children:(0,g.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,g.jsx)("img",{src:null===yn||void 0===yn||null===(me=yn.winner)||void 0===me||null===(xe=me.profile_img)||void 0===xe?void 0:xe.imageURL}),(0,g.jsxs)("p",{children:["Remport\xe9e par ",null===yn||void 0===yn||null===(fe=yn.winner)||void 0===fe?void 0:fe.username," \xe0"," ",(0,g.jsxs)("span",{className:"winner-price",children:[null===yn||void 0===yn||null===(pe=yn.prixPromo)||void 0===pe?void 0:pe.toFixed(1)," DT"]})]})]})})}):null,"finished"===(null===yn||void 0===yn?void 0:yn.status)||"enable"===(null===yn||void 0===yn?void 0:yn.status)?(0,g.jsx)("div",{children:(null===yn||void 0===yn||null===(he=yn.directWinner)||void 0===he?void 0:he._id)===(null===pn||void 0===pn?void 0:pn._id)&&pn?(0,g.jsx)("div",{className:"winner-section",children:(0,g.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,g.jsx)("img",{src:null===yn||void 0===yn||null===(je=yn.directWinner)||void 0===je||null===(ge=je.profile_img)||void 0===ge?void 0:ge.imageURL}),(0,g.jsxs)("p",{children:["Vous avez achet\xe9 ce produit \xe0"," ",(0,g.jsxs)("span",{className:"winner-price",children:[null===yn||void 0===yn||null===(be=yn.directPrice)||void 0===be?void 0:be.toFixed(1)," DT"]})]})]})}):(null===yn||void 0===yn?void 0:yn.directWinner)&&(0,g.jsx)("div",{className:"winner-section",children:(0,g.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,g.jsx)("img",{src:null===yn||void 0===yn||null===(Ne=yn.directWinner)||void 0===Ne||null===(we=Ne.profile_img)||void 0===we?void 0:we.imageURL}),(0,g.jsxs)("p",{children:[null===yn||void 0===yn||null===(ke=yn.directWinner)||void 0===ke?void 0:ke.username," a achet\xe9 le produit \xe0"," ",(0,g.jsxs)("span",{className:"winner-price",children:[null===yn||void 0===yn||null===(ye=yn.directPrice)||void 0===ye?void 0:ye.toFixed(1)," DT"]})]})]})})}):null]})]}),"pending"===(null===yn||void 0===yn?void 0:yn.status)?(0,g.jsx)("div",{children:hn?(0,g.jsxs)("div",{children:[" ",!Fe&&!We&&Math.floor(fi/(null===yn||void 0===yn?void 0:yn.capacity)*100)<100?(0,g.jsx)("div",{className:"d-flex align-items-center justify-content-center w-100 ",children:(0,g.jsxs)("button",{className:"participation-button",onClick:function(){return cn(!0)},children:["Participer \xe0"," ",(0,g.jsx)("b",{children:null===yn||void 0===yn?void 0:yn.participationPrice})," DT"]})}):null]}):Math.floor(fi/(null===yn||void 0===yn?void 0:yn.capacity)*100)<100?(0,g.jsx)(E.rU,{className:"w-100 d-flex align-items-center justify-content-center",to:"/signin",children:(0,g.jsxs)("button",{className:"participation-button",children:["Participer \xe0 ",(0,g.jsx)("b",{children:null===yn||void 0===yn?void 0:yn.participationPrice})," DT"]})}):null}):null]})]})})}),"enable"!==(null===yn||void 0===yn?void 0:yn.status)&&(null===Ze||void 0===Ze?void 0:Ze.length)>0?(0,g.jsxs)("section",{className:"w-100 product-page-section p-lg-4 p-md-2 p-sm-0 d-flex justify-content-center align-items-center flex-column mb-4",children:[(0,g.jsx)("h2",{children:"Augmentez vos chances de gagner"}),Ee?(0,g.jsx)(d.Z,{animation:"border",className:"mx-auto color-pink my-5"}):(0,g.jsx)("div",{className:"container",ref:Vn,children:(0,g.jsx)(C.default,{swipeable:!0,slidesToSlide:1,autoPlay:!1,ssr:!1,draggable:!0,showDots:!1,responsive:G,infinite:!1,deviceType:e.deviceType,customRightArrow:(0,g.jsx)(y.Z,{}),customLeftArrow:(0,g.jsx)(_.Z,{}),renderDotsOutside:!1,shouldResetAutoplay:!1,children:Ze?Ze.map((function(e){return(0,g.jsx)(r.Z,{variant:"home",product:e},e._id)})):null})})]}):null]}),(0,g.jsx)(t.Z,{}),(0,g.jsx)(F.Z,{room:yn,show:dn,onHide:function(){return cn(!1)}}),(0,g.jsx)(c.Z,{show:Zi,winner:si,loser:ci,room:yn,user:null===pn||void 0===pn?void 0:pn._id,onHide:function(){Di(!1),Gi(600)},winnerCallback:function(){return Di(!1)}}),(0,g.jsx)(N,{show:Ei,counter:ki,onHide:function(){yn&&l.emit("rejectPurchase",{roomID:yn._id,userID:null===pn||void 0===pn?void 0:pn._id}),Ui(!1)},parentCallback:qn,hidCallback:Yn}),(0,g.jsx)(a.Z,{room:yn,user:pn,socket:l,parentCallback:$n,show:$i}),(0,g.jsx)(k.Z,{show:gi,onHide:function(){return bi(!1)},freeCreditCallback:function(){return bi(!1)}}),(0,g.jsx)(u.Z,{show:Xi}),(0,g.jsx)(w.Z,{show:on})]})}}}]);
//# sourceMappingURL=322.e3c9d408.chunk.js.map