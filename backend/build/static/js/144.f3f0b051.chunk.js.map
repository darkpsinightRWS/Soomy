{"version":3,"file":"static/js/144.f3f0b051.chunk.js","mappings":"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","sources":["views/pages/checkout/Validation.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n/* import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faQuoteRight,\r\n  faAngleLeft,\r\n  faAngleRight,\r\n  faCheckCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\"; */\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport Header from \"../../../components/header/Header\";\r\nimport Footer from \"../../../components/footer/Footer\";\r\nimport { PayPalButtons, PayPalScriptProvider } from \"@paypal/react-paypal-js\";\r\nimport { createTransaction } from \"../../../redux/transactionSlice\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { getUser, setCloseModal } from \"../../../redux/userSlice\";\r\nimport {\r\n  createOrder,\r\n  getNumberOfOrders,\r\n  getsingleOrder,\r\n  updateOrder,\r\n  validationMail,\r\n} from \"../../../redux/orderSlice\";\r\n\r\nconst Validation = (props) => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const user = useSelector((state) => state.user);\r\n  const { userInfo, deconnectionLoading, connexionLoading, showModal } = user;\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [navigate, userInfo]);\r\n\r\n\r\n  const params = useParams();\r\n  const product = params.id;\r\n  const roomData = useSelector((state) => state.room);\r\n  const { Room } = roomData;\r\n  const order = useSelector((state) => state.order);\r\n  const { NumberOfOrders, singleOrder } = order;\r\n\r\n  const participation = useSelector((state) => state.participation);\r\n  const { userParticipationList } = participation;\r\n\r\n  /*  useEffect(() => {\r\n    if (singleOrder&&(singleOrder?.user_id?._id!==userInfo?._id)) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [navigate, userInfo,singleOrder]); */\r\n  useEffect(() => {\r\n    dispatch(getsingleOrder(product));\r\n  }, [dispatch, product]);\r\n\r\n  return (\r\n    <div\r\n      className={`${\r\n        deconnectionLoading || connexionLoading\r\n          ? \"d-flex justify-content-center align-items-center\"\r\n          : \"moving-main\"\r\n      }`}\r\n      style={{\r\n        height: `${deconnectionLoading || connexionLoading ? \"100vh\" : null}`,\r\n      }}\r\n    >\r\n      {deconnectionLoading || connexionLoading ? (\r\n        <div className=\"spinner-border\" role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"fluid-container\">\r\n            <ToastContainer\r\n              position=\"top-center\"\r\n              autoClose={10000}\r\n              hideProgressBar={false}\r\n              newestOnTop={false}\r\n              toastStyle={{ backgroundColor: \"#303030\", color: \"white\" }}\r\n              progressClassName=\"Toastify__progress-bar--warning\"\r\n              closeOnClick\r\n              rtl={false}\r\n              pauseOnFocusLoss\r\n              draggable\r\n              pauseOnHover\r\n            />\r\n            {/*header start*/}\r\n            \r\n            <div>\r\n              <main className=\"pt-5\">\r\n                {singleOrder?.status_payment === \"payé\" ? (\r\n                  <h2\r\n                    className=\"checkout-title  mx-auto text-center mb-5\"\r\n                    style={{ color: \"rgb(2, 202, 2)\", fontSize: \"38px\" }}\r\n                  >\r\n                    {/*    <FontAwesomeIcon\r\n                icon={faCheckCircle}\r\n                style={{ color: \"#115817\" }}\r\n              />{\" \"} */}\r\n                    <i class=\"fi fi-rr-shield-check\"></i> Commande Validée{\" \"}\r\n                  </h2>\r\n                ) : (\r\n                  <h2\r\n                    className=\"checkout-title mx-auto text-center mb-5\"\r\n                    style={{ fontSize: \"38px\" }}\r\n                  >\r\n                    {\" \"}\r\n                    Commande en Attente\r\n                  </h2>\r\n                )}\r\n                <div className=\"g-3 needs-validation container d-flex p-2 mb-2 mx-auto justify-content-between main-checkout\">\r\n                  <div className=\"col-8 pe-lg-3 details-livraison-main\">\r\n                    <div className=\"col-12 checkout-form details-livraison p-3 edge-shadow\">\r\n                      <h3 className=\"text-left mt-0 mt-4\">\r\n                      Données de livraison\r\n                      </h3>\r\n                      <hr />\r\n                      <div className=\"mt-0\">\r\n                        <label for=\"validationCustom01\" className=\"form-label\">\r\n                          Nom :\r\n                        </label>\r\n                        <p>{singleOrder?.user_id?.lastName}</p>\r\n                      </div>\r\n                      <hr />\r\n                      <div className=\"mt-0\">\r\n                        <label for=\"validationCustom01\" className=\"form-label\">\r\n                          Prénom :\r\n                        </label>\r\n                        <p>{singleOrder?.user_id?.firstName}</p>\r\n                      </div>\r\n                      <hr />\r\n                      <div className=\"mt-0\">\r\n                        <label for=\"validationCustom02\" className=\"form-label\">\r\n                          Email :\r\n                        </label>\r\n                        <p>{singleOrder?.user_id?.email}</p>\r\n                      </div>\r\n                      <hr />\r\n                      <div className=\"mt-0\">\r\n                        <label for=\"validationCustom02\" className=\"form-label\">\r\n                        Téléphone :\r\n                        </label>\r\n                        <p>{singleOrder?.user_id?.phone}</p>\r\n                      </div>\r\n                      <hr />\r\n                      <div className=\"mt-0\">\r\n                        <label for=\"validationCustom03\" className=\"form-label\">\r\n                          Adresse :\r\n                        </label>\r\n                        <p>{singleOrder?.Adresse}</p>\r\n                      </div>\r\n                      <hr />\r\n                      <div className=\"mt-0\">\r\n                        <label for=\"validationCustom03\" className=\"form-label\">\r\n                          Ville :\r\n                        </label>\r\n                        <p>{singleOrder?.ville}</p>\r\n                      </div>\r\n                      <hr />\r\n                      <div className=\"mt-0\">\r\n                        <label for=\"validationCustom04\" className=\"form-label\">\r\n                        Code postal :\r\n                        </label>\r\n                        <p>{singleOrder?.zip}</p>\r\n                      </div>\r\n                      <hr />\r\n                      <div className=\"mt-0\">\r\n                        <label for=\"validationCustom04\" className=\"form-label\">\r\n                          Moyen de paiement :\r\n                        </label>\r\n                        <p>{singleOrder?.method_of_paiement}</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12 mt-2 checkout-form details-livraison p-3 edge-shadow\">\r\n                      <h3 className=\"text-left mt-0 mb-4\">Paiement</h3>\r\n                      <div className=\"mt-2\">\r\n                        <label  className=\"form-label\">\r\n                          Etat de Livraison :\r\n                        </label>\r\n                        <div\r\n                          className=\"alert alert-secondary py-1 pe-2 m-1\"\r\n                          role=\"alert\"\r\n                        >\r\n                          <p className=\"alert-link m-0\">\r\n                            {singleOrder?.status_delivery}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"mt-2\">\r\n                        <label for=\"validationCustom06\" className=\"form-label\">\r\n                          Etat de Paiement :\r\n                        </label>\r\n                        {singleOrder?.status_payment === \"payé\" ? (\r\n                          <div\r\n                            className=\"alert alert-success py-1 pe-2 m-1\"\r\n                            role=\"alert\"\r\n                          >\r\n                            <p className=\"alert-link m-0\">payé</p>\r\n                          </div>\r\n                        ) : (\r\n                          <div\r\n                            className=\"alert alert-secondary py-1 pe-2 m-1 \"\r\n                            role=\"alert\"\r\n                          >\r\n                            <p className=\"alert-link m-0\">\r\n                              {singleOrder?.status_payment}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-4 d-flex flex-column align-items-center checkout-details px-sm-2 p-lg-3 px-md-3 edge-shadow\">\r\n                    <h3 className=\"text-center mt-3\">Votre Commande</h3>\r\n                    <img\r\n                      className=\"checkout-img edge-shadow\"\r\n                      src={singleOrder?.room_id?.product?.image?.imageURL}\r\n                    />\r\n                    <table className=\"table w-100\">\r\n                      <tbody className=\"details-checkout-body\">\r\n                        <tr className=\"table-light\">\r\n                          <td>Produit</td>\r\n                          <td className=\"text-end\">\r\n                            {singleOrder?.room_id?.product?.title}\r\n                          </td>\r\n                        </tr>\r\n                        <tr className=\"table-light\">\r\n                          <td>Garantie</td>\r\n                          <td className=\"text-end\">\r\n                            {singleOrder?.room_id?.product?.garantie} Mois\r\n                          </td>\r\n                        </tr>\r\n                        <tr className=\"table-light\">\r\n                          <td>Partenaire</td>\r\n                          <td className=\"text-end p-1\">\r\n                            <img\r\n                              className=\"card-img-partner m-0\"\r\n                              src={\r\n                                singleOrder?.room_id?.product?.partner?.image\r\n                                  ?.imageURL\r\n                              }\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                        <tr className=\"table-light\">\r\n                          <td>Livraison</td>\r\n                          <td className=\"text-end\">---</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <table className=\"table total-table w-100\">\r\n                      <tbody className=\"total-body\">\r\n                        <tr className=\"table-light total-tr mt-5\">\r\n                          <td>Sous-total</td>\r\n                          <td className=\"text-end\">\r\n                            {singleOrder?.typeWinner === \"soomy\"\r\n                              ? singleOrder?.room_id?.prixPromo\r\n                              : singleOrder?.room_id?.directPrice}{\" \"}\r\n                            dt\r\n                          </td>\r\n                        </tr>\r\n                        <tr className=\"table-light total-tr\">\r\n                          <td>Total</td>\r\n                          <td className=\"text-end\">\r\n                            {singleOrder?.typeWinner === \"soomy\"\r\n                              ? singleOrder?.room_id?.prixPromo\r\n                              : singleOrder?.room_id?.directPrice}{\" \"}\r\n                            td\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    {!(singleOrder?.status_payment === \"payé\") &&\r\n                      singleOrder &&\r\n                      singleOrder.method_of_paiement === \"carte bancaire\" && (\r\n                        <div className=\"paypal-button w-100 mt-4\">\r\n                          <PayPalScriptProvider\r\n                            options={{ \"client-id\": \"test\" }}\r\n                          >\r\n                            <PayPalButtons\r\n                              createOrder={(data, actions) => {\r\n                                return actions.order.create({\r\n                                  purchase_units: [\r\n                                    {\r\n                                      amount: {\r\n                                        value:\r\n                                          singleOrder?.typeWinner === \"soomy\"\r\n                                            ? singleOrder?.room_id?.prixPromo.toString()\r\n                                            : singleOrder?.room_id?.directPrice?.toString(),\r\n                                      },\r\n                                    },\r\n                                  ],\r\n                                });\r\n                              }}\r\n                              onApprove={(data, actions) => {\r\n                                return actions.order\r\n                                  .capture()\r\n                                  .then((details) => {\r\n                                    const captures =\r\n                                      details.purchase_units[0].payments\r\n                                        .captures;\r\n                                    dispatch(\r\n                                      createTransaction({\r\n                                        type: \"paiement\",\r\n                                        total: parseFloat(\r\n                                          captures[0].amount.value\r\n                                        ),\r\n                                        user: singleOrder?.user_id?._id,\r\n                                        service:\r\n                                          details.purchase_units[0]\r\n                                            .soft_descriptor,\r\n                                        montant:\r\n                                          singleOrder?.typeWinner === \"soomy\"\r\n                                            ? singleOrder?.room_id?.prixPromo\r\n                                            : singleOrder?.room_id?.directPrice,\r\n                                        status: captures[0].status,\r\n                                        ref: captures[0].id,\r\n                                      })\r\n                                    )\r\n                                      .then((data) => {\r\n                                        dispatch(\r\n                                          updateOrder({\r\n                                            id: singleOrder?._id,\r\n                                            data: {\r\n                                              status_payment: \"payé\",\r\n                                              status_delivery:\r\n                                                \"en attente de livraison\",\r\n                                              payment_id: data.payload._id,\r\n                                            },\r\n                                          })\r\n                                        );\r\n                                      })\r\n                                      .then(() => {\r\n                                        dispatch(\r\n                                          validationMail({\r\n                                            email: userInfo?.email,\r\n                                            room_id: singleOrder?.room_id?._id,\r\n                                            ref: singleOrder?.ref_order,\r\n                                            name: singleOrder?.room_id?.product\r\n                                              ?.title,\r\n                                            method_of_paiement:\r\n                                              singleOrder?.method_of_paiement,\r\n                                            status_payment:\r\n                                              singleOrder?.status_payment,\r\n                                            prix: singleOrder?.room_id?.product\r\n                                              ?.prix,\r\n                                            prixPromo:\r\n                                              singleOrder?.room_id?.prixPromo,\r\n                                            image:\r\n                                              singleOrder?.room_id?.product\r\n                                                ?.image?.imageURL,\r\n                                            order_id: singleOrder?._id,\r\n                                          })\r\n                                        ),\r\n                                          dispatch(getsingleOrder(product));\r\n                                      });\r\n                                    setTransaction(true);\r\n                                  });\r\n                              }}\r\n                            />\r\n                          </PayPalScriptProvider>\r\n                        </div>\r\n                      )}\r\n                  </div>\r\n                </div>\r\n              </main>\r\n            </div>\r\n            <Footer />\r\n\r\n            {/*footer end*/}\r\n          </div>{\" \"}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Validation;\r\n"],"names":["props","dispatch","useDispatch","navigate","useNavigate","user","useSelector","state","userInfo","deconnectionLoading","connexionLoading","showModal","useEffect","product","useParams","id","order","room","Room","singleOrder","NumberOfOrders","participation","userParticipationList","getsingleOrder","className","style","height","role","position","autoClose","hideProgressBar","newestOnTop","toastStyle","backgroundColor","color","progressClassName","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","status_payment","fontSize","class","for","user_id","lastName","firstName","email","phone","Adresse","ville","zip","method_of_paiement","status_delivery","src","room_id","image","imageURL","title","garantie","partner","typeWinner","prixPromo","directPrice","options","createOrder","data","actions","create","purchase_units","amount","value","toString","onApprove","capture","then","details","captures","payments","createTransaction","type","total","parseFloat","_id","service","soft_descriptor","montant","status","ref","updateOrder","payment_id","payload","validationMail","ref_order","name","prix","order_id","setTransaction"],"sourceRoot":""}