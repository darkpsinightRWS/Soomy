{"version":3,"file":"static/js/769.c6c8d211.chunk.js","mappings":"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","sources":["views/pages/register/Phone.js","../node_modules/@coreui/icons/js/free/cil-check-circle.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Footer from \"../../../components/footer/Footer\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CIcon from '@coreui/icons-react'\r\nimport axios from \"axios\";\r\nimport {\r\ncilCheckCircle\r\n} from '@coreui/icons'\r\nimport {useSelector,useDispatch} from \"react-redux\"\r\nimport Alert from \"@mui/material/Alert\";\r\nimport {useNavigate} from \"react-router-dom\"\r\nimport {getUser} from \"../../../redux/userSlice\"\r\nconst Register = () => {\r\n  const [userInput, setUserInput] = useState({});\r\n  const [validation, setValidation] = useState({});\r\n  const [toggle, setToggle] = useState(true);\r\n  const [toggle2, setToggle2] = useState(false);\r\n  const [toggle3, setToggle3] = useState(false);\r\n  const [error , setError] = useState(null)\r\n  const [errorVerif , setErrorVerif] = useState(null)\r\n  const {userInfo} = useSelector(state=>state.user)\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n  const getUserInfo = (e) => {\r\n    setUserInput({ ...userInput, [e.target.name]: e.target.value });\r\n  };\r\n  function sendData(e) {\r\n    e.preventDefault(e);\r\n    axios\r\n      .post(\"/users/sendMessage\", userInput, {\r\n        withCredentials: true,\r\n      })\r\n      .then((res) => {\r\n        setToggle(false);\r\n        setToggle2(true);\r\n        setToggle3(false);\r\n      }).catch((err)=>{\r\n        setError(err?.response?.data?.msg)});\r\n  }\r\n  function sendCode(e) {\r\n    e.preventDefault(e);\r\n    \r\n    axios\r\n      .post(\"/users/validate\", validation ,  {\r\n        withCredentials: true,\r\n      })\r\n      .then(() => {\r\n        dispatch(getUser());\r\n        setToggle(false);\r\n        setToggle2(false);\r\n        setToggle3(true);\r\n      }).catch((err)=>{\r\n        setErrorVerif(err?.response?.data?.msg)});;\r\n  }\r\n \r\n\r\n  return (\r\n    <div>\r\n      \r\n      <main className=\"d-flex flex-column justify-content-center align-items-center register p-lg-5 \">\r\n        <div className=\"container p-4 edge-shadow-connect  d-flex justify-content-center align-items-center flex-column\">\r\n          <form\r\n            className={`row g-3 mt-4 mx-lg-5 mx-auto px-2 ${!toggle && \"d-none\"}`}\r\n            onSubmit={(e) => sendData(e)}\r\n          >\r\n            <div className=\"d-flex flex-column flex-lg-row col-md-12 justify-content-between d-sm-column my-0\">\r\n              <div className=\"register-input w-100 my-1\">\r\n                <label for=\"validationServerUsername\" className=\"form-label\">\r\n                  Numéro de Téléphone\r\n                </label>\r\n                <div className=\"input-group has-validation\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"phone\"\r\n                    id=\"validationServerUsername\"\r\n                    aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\"\r\n                    onChange={(e) => getUserInfo(e)}\r\n                    required\r\n                  />\r\n                  <div\r\n                    id=\"validationServerUsernameFeedback\"\r\n                    className=\"invalid-feedback\"\r\n                  >\r\n                    Please choose a username.\r\n                  </div>\r\n                </div>\r\n                \r\n            {error? <Alert className=\"mt-2\" severity=\"error\">\r\n            {error}\r\n          </Alert>:null}\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 d-flex justify-content-center align-items-center\">\r\n              <button className=\"btn btn-register my-3\" type=\"submit\">\r\n                Envoyer\r\n              </button>\r\n            </div>\r\n          </form>\r\n          <form\r\n            className={`row g-3 mt-4 mx-lg-5 mx-auto px-2 ${!toggle2 && \"d-none\"}`}\r\n            onSubmit={(e) => sendCode(e)}\r\n          >\r\n            <div className=\"d-flex flex-column flex-lg-row col-md-12 justify-content-between d-sm-column my-0\">\r\n              <div className=\"register-input w-100 my-1\">\r\n                <label for=\"validationServerUsername\" className=\"form-label\">\r\n                Veuillez saisir le code de vérification\r\n                </label>\r\n                <div className=\"input-group has-validation\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"validation\"\r\n                    id=\"validationServerUsername\"\r\n                    aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\"\r\n                    onChange={(e) => setValidation({validation:e.target.value})}\r\n                    required\r\n                  />\r\n                  <div\r\n                    id=\"validationServerUsernameFeedback\"\r\n                    className=\"invalid-feedback\"\r\n                  >\r\n                    Please choose a username.\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 d-flex justify-content-center align-items-center\">\r\n              <button\r\n                className=\"btn btn-register mx-1 my-3\"\r\n                onClick={() => {\r\n                  setToggle(true);\r\n                  setToggle2(false);\r\n                  setToggle3(false);\r\n                }}\r\n              >\r\n                Retour\r\n              </button>\r\n              <button className=\"btn btn-register mx-1 my-3\" type=\"submit\">\r\n                Envoyer\r\n              </button>\r\n            </div>\r\n            {errorVerif? <Alert className=\"mt-2\" severity=\"error\">\r\n            {errorVerif}\r\n          </Alert>:null}\r\n          </form>\r\n          <div\r\n            className={`row g-3 my-4 mx-lg-5 mx-auto px-2 succes-validation ${!toggle3 && \"d-none\"}`}\r\n          >\r\n            <div className=\"text-center my-3 d-flex flex-column justify-content-center align-items-center\"><CIcon icon={cilCheckCircle} fontSize={50} height={70} width={70}/>  <p className=\"mt-4\">Votre compte a été verifié avec succès</p></div>\r\n            <Link to={'/'} className=\"mx-auto w-50\"><button className=\"btn btn-register mx-auto w-100\">aller à la page d'accueil</button></Link>\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","export const cilCheckCircle = [\"512 512\",\"<path fill='var(--ci-primary-color, currentColor)' d='M426.072,86.928A238.75,238.75,0,0,0,88.428,424.572,238.75,238.75,0,0,0,426.072,86.928ZM257.25,462.5c-114,0-206.75-92.748-206.75-206.75S143.248,49,257.25,49,464,141.748,464,255.75,371.252,462.5,257.25,462.5Z' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='221.27 305.808 147.857 232.396 125.23 255.023 221.27 351.063 388.77 183.564 366.142 160.937 221.27 305.808' class='ci-primary'/>\"]"],"names":["useState","userInput","setUserInput","validation","setValidation","toggle","setToggle","toggle2","setToggle2","toggle3","setToggle3","error","setError","errorVerif","setErrorVerif","dispatch","useSelector","state","user","userInfo","useNavigate","useDispatch","className","onSubmit","e","preventDefault","axios","withCredentials","then","res","catch","err","response","data","msg","sendData","for","type","name","id","onChange","target","value","getUserInfo","required","severity","getUser","sendCode","onClick","icon","cilCheckCircle","fontSize","height","width","to"],"sourceRoot":""}